<!doctype html>


<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Some demonstration of common web api">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>Web API Demo</title>

    <!-- Page styles -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.min.css">
    <link rel="stylesheet" href="rainbow.css">
    <link rel="stylesheet" href="styles.css">
    <style>
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
    }

    </style>
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

      <div class="android-header mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row">
          <span class="android-title mdl-layout-title">
            <img class="android-logo-image" src="images/site-logo.png">
          </span>
          <!-- Add spacer, to align navigation to the right in desktop -->
          <div class="android-header-spacer mdl-layout-spacer"></div>
          <!-- Navigation -->
          <div class="android-navigation-container">
            <nav class="android-navigation mdl-navigation">
              <!-- Maybe i want to create a navigation menu -->
                  <a href="https://github.com/gabrycaos/webapidemo" target="_blank" role="menuitem" class="mdl-navigation__link mdl-typography--text-uppercase">Source code</a>
            </nav>
          </div>
          <span class="android-mobile-title mdl-layout-title">
            <img class="android-logo-image" src="images/site-logo.png">
          </span>
        </div>
      </div>

      <div class="android-content mdl-layout__content">
        <a name="top"></a>
        <div class="blue-section mdl-typography--text-center mdl-grid">
        <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
          <div class="logo-font android-slogan"><h3>Geolocation API</h3></div>
          <br>
          <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation" target="_blank">More information</a></p>
          <div class="logo-font android-sub-slogan"><h5>Latitude: <span id="lat"></span></h5></div>
          <div class="logo-font android-sub-slogan"><h5>Longitude: <span id="lon"></span></h5></div>
          <div class="logo-font android-sub-slogan"><h5>Accuracy: <span id="acc"></span> m</h5></div>
            <br>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect accent-color" onclick="getPosition()">
              Get Current Location
            </button>

<!--           <a href="#screens">
            <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
              <i class="material-icons">expand_more</i>
            </button>
          </a> -->
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone code">
        <h5>Code for this: </h5>
          <pre><code data-language="javascript" class="codice">
            function success(position) {
              &nbsp;&nbsp;$("#lat").append(position.coords.latitude);
              &nbsp;&nbsp;$("#lon").append(position.coords.longitude);
              &nbsp;&nbsp;$("#acc").append(position.coords.accuracy);
            };

            function error(error) {
              &nbsp;&nbsp;alert("Sorry, there is an error :-/");
            };

            navigator.geolocation.getCurrentPosition(success, error);
          </code>
          </pre>
        </div>
        </div>
        <div class="orange-section mdl-typography--text-center mdl-grid">
        <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
          <div class="logo-font android-slogan"><h3>getUserMedia API</h3></div>
          <p>Supported only from mobile - non standard API</p>
          <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/getUserMedia" target="_blank">More information</a></p>
          <video id="video"></video>
            <br>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect accent-color" onclick="getMedia()">
              Get Media from webcam
            </button>

<!--           <a href="#screens">
            <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
              <i class="material-icons">expand_more</i>
            </button>
          </a> -->
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone code">
        <h5>Code for this: </h5>
          <pre><code data-language="javascript" class="codice">
            if (navigator.getUserMedia) {
               navigator.getUserMedia({ audio: true, video: { width: 1280, height: 720 } },
                  function(stream) {
                     var video = document.querySelector('video');
                     video.src = window.URL.createObjectURL(stream);
                     video.onloadedmetadata = function(e) {
                       video.play();
                     };
                  },
                  function(err) {
                     alert("The following error occurred: " + err.name);
                  }
               );
            } else {
               alert("getUserMedia not supported");
            }
          </code>
          </pre>
        </div>
        </div>

        <div class="blue-section mdl-typography--text-center mdl-grid">
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
            <div class="logo-font android-slogan"><h3>Fullscreen API</h3></div>
            <br>
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API" target="_blank">More information</a></p>
            <img src="images/pikachu.png" class="imagedemo" id="pikachu">
              <br>
              <br>
              <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect accent-color" onclick="fullscreenPika()">
                Show Pikachu in fullscreen!
              </button>

  <!--           <a href="#screens">
              <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
                <i class="material-icons">expand_more</i>
              </button>
            </a> -->
          </div>
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone code">
          <h5>Code for this: </h5>
            <pre><code data-language="javascript" class="codice">
            var pikachu = document.querySelector("#pikachu");
            
            if (pikachu.requestFullscreen) {
              pikachu.requestFullscreen();
            }

            </code>
            </pre>
          </div>
        </div>
        <div class="orange-section mdl-typography--text-center mdl-grid">
        <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
          <div class="logo-font android-slogan"><h3>Notification API</h3></div>
            <br>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect accent-color" onclick="notify()">
              Send me a notification!
            </button>

<!--           <a href="#screens">
            <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
              <i class="material-icons">expand_more</i>
            </button>
          </a> -->
        </div>
        <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone code">
        <h5>Code for this: </h5>
          <pre><code data-language="javascript" class="codice">
              if (!("Notification" in window)) {
                alert("This browser does not support desktop notification");
              }

              else if (Notification.permission === "granted") {
                var notification = new Notification("Hi people!");
              }

              else if (Notification.permission !== 'denied') {
                Notification.requestPermission(function (permission) {
                  if (permission === "granted") {
                    var notification = new Notification("Hi people!");
                  }
                });
              }
          </code>
          </pre>
        </div>
        </div>

        <div class="blue-section mdl-typography--text-center mdl-grid">
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
            <div class="logo-font android-slogan"><h3>Web Speech API</h3></div>
            <p>Text-to-speech</p>
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" target="_blank">More information</a></p>
            <br>
            <input type="text" id="phrase" placeholder="write a text here and press button"/>
            <br>
            <br>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect accent-color" onclick="speech()">
              Okay website, speech!
            </button>

            <!--           <a href="#screens">
                        <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
                          <i class="material-icons">expand_more</i>
                        </button>
                      </a> -->
          </div>
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone code">
            <h5>Code for this: </h5>
            <pre>
              <code data-language="javascript" class="codice">
                  var phrase = document.getElementById("phrase").value;
                  var speech = new SpeechSynthesisUtterance(phrase);
                  window.speechSynthesis.speak(speech);
              </code>
            </pre>
          </div>
        </div>

        <div class="orange-section mdl-typography--text-center mdl-grid">
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
            <div class="logo-font android-slogan"><h3>Web Speech API</h3></div>
            <p>Speech-to-text</p>
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition" target="_blank">More information</a></p>
            <br>
              <p id="speeched"></p>
            <br>
            <br>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect accent-color" onclick="speechRecognition()">
              Okay website, listen to me!
            </button>

            <!--           <a href="#screens">
                        <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
                          <i class="material-icons">expand_more</i>
                        </button>
                      </a> -->
          </div>
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone code">
            <h5>Code for this: </h5>
            <pre>
              <code data-language="javascript" class="codice">
                  var recognition = new SpeechRecognition();
                  recognition.lang = 'en-US';
                  recognition.interimResults = false;

                  recognition.start();
                  console.log('Ready to receive a color command.');

                  recognition.onresult = function (event) {
                      var text = event.results[0][0].transcript;
                      $("#speeched").append(text);
                  }
              </code>
            </pre>
          </div>
        </div>

        <div class="blue-section mdl-typography--text-center mdl-grid">
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone">
            <div class="logo-font android-slogan"><h3>Workers</h3></div>
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker" target="_blank">More information</a></p>
            <br>
            <input type="text" id="dataForWorker" placeholder="write a text here"/>
            <br>
            <br>
            <p id="result"></p>
            <br>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect accent-color" onclick="getFromWorker()">
              Send data to worker!
            </button>

            <!--           <a href="#screens">
                        <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
                          <i class="material-icons">expand_more</i>
                        </button>
                      </a> -->
          </div>
          <div class="mdl-cell mdl-cell--6-col mdl-cell--12-col-tablet mdl-cell--12-col-phone code">
            <h5>Code for this: </h5>
            <pre>
              <code data-language="javascript" class="codice">

                //main script
                    var myWorker = new Worker("worker.js");
                      console.log($("#dataForWorker").val());
                      myWorker.postMessage([$("#dataForWorker").val()]);
                      console.log('Message posted to worker');

                      myWorker.onmessage = function(result){
                          console.log(result);
                          $("#result").append(result.data)
                      };

                //worker.js
                  onmessage = function(e) {
                      console.log('Message received from main script');
                      var workerResult = "Hi, i am the worker, you have just sent me this data: "+e.data[0];
                      console.log('Posting message back to main script');
                      postMessage(workerResult);

                  };

              </code>
            </pre>
          </div>
        </div>


        <footer class="android-footer mdl-mega-footer">
          <div class="mdl-mega-footer--top-section">
            <div class="mdl-mega-footer--left-section">

            </div>

            <div class="mdl-mega-footer--middle-section">
              <p class="mdl-typography--font-light">Powered by Gabriele Falasca - <a href="https://github.com/gabrycaos" target="_blank">gabrycaos</a></p>
              <p class="mdl-typography--font-light">Original Template: androiddotcom by <a href="https://getmdl.io" target="_blank">getmdl.io</a></p>
              <p class="mdl-typography--font-light">Template license: <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache v2.0</a></p>
              <p class="mdl-typography--font-light">Website license: <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank">GPL v3.0</a></p>
            </div>

            <div class="mdl-mega-footer--bottom-section">

            </div>
          </div>
        </footer>
      </div>
    </div>
    <script src="jquery.js"></script>
    <script src="material.js"></script>
    <script src="rainbow.js"></script>
    <script src="rainbow.javascript.js"></script>
    <script src="webapidemo.js"></script>
  </body>
</html>
